--------------------------------------------------------------------------------
      name:  <unnamed>
       log:  C:\Users\User\Desktop\HW3\replication_log.txt
  log type:  text
 opened on:  20 Nov 2025, 14:47:50

. do "0-merge data-December 2020.do"

. 
. /*
> 
> Code by Dorit Stein
> dorittalia@gmail.com
> 
> For analysis in: 
> Stein DT, Sudharsanan N, Dewi S, Manne-Goehler J, Witoelar F, Geldsetzer P. Ch
> ange in clinical knowledge of diabetes among primary healthcare providers in I
> ndonesia: repeated cross-sectional survey of 5105 primary healthcare facilitie
> s. BMJ Open Diabetes Research and Care. 2020 Oct 1;8(1):e001415.
> 
> 
> This script (1 of 3) merges data from two waves of the Indonesia Family Life S
> urvey (wave 4 and 5). Relevant data files are available in the Harvard Dataver
> se. 
> 
> */
. 
. ********************************************
. ****CLEAN AND MERGE Vignette DATA WITHIN IFLS4****
. ********************************************
. 
. ***************************************************
. *00. Public 2007
. ***************************************************
. set more off

. clear all

. 
. * Set user and the directory (YOUR path)
. global dir "C:\Users\User\Desktop\HW3"

. global raw "$dir"

. global output "$dir"

. 
.         *without SAR - use COMMID07 in pusk and pra books 
.         
.         *load label sort Puskesmas data 2007
.         use "$raw/4-pusk.dta", replace

.         drop if h15 == 3 | h15 == .
(295 observations deleted)

.                         
.         gen fac_type = " " 

.         replace fac_type = "pusk"
variable fac_type was str1 now str4
(657 real changes made)

.         
.         gen wave = " "

.         replace wave = "four"
variable wave was str1 now str4
(657 real changes made)

.         
.         sort fcode07 commid07

.         
.         rename a10 dual

.         label def dual 1 "Yes" 3 "No"

.         label val dual dual

.         
.         *657 providers
.         ***BEFORE: 941 facilities
.         save "$raw/4-pusk-v2.dta", replace
file C:\Users\User\Desktop\HW3/4-pusk-v2.dta saved

. 
. ***************************************************
. *00. Private 2007
. ***************************************************
. 
.         **merge private provider knowledge data
.         clear all 

.         use "$raw/4-pra.dta"

.         
.         drop if hpr15 == 3 | hpr15 == .
(1,037 observations deleted)

.         *drop if hpr25a-hpr29h == .
.         
.         sort fcode07 commid07

.         *add columns with fac and year identifiers
.         gen fac_type = " " 

.         replace fac_type = "private"
variable fac_type was str1 now str7
(558 real changes made)

.         
.         gen wave = " "

.         replace wave = "four"
variable wave was str1 now str4
(558 real changes made)

.         
.         *559 private providers 2007
.         save "$raw/4-pra-v2.dta", replace
file C:\Users\User\Desktop\HW3/4-pra-v2.dta saved

.         
. *APPEND
.         append using "$raw/4-pusk-v2.dta", force
(note: variable a7 was str4 in the using data, but will be byte now)
(note: variable cp2b was byte in the using data, but will be str4 now)
(note: variable cp3c was str7 in the using data, but will be byte now)
(variable a8 was byte, now int to accommodate using data's values)
(variable a11 was byte, now float to accommodate using data's values)
(variable cp3a was str18, now str20 to accommodate using data's values)
(variable cp3b was str8, now str20 to accommodate using data's values)

.         
.         save "$output/4-vignette.dta", replace
file C:\Users\User\Desktop\HW3/4-vignette.dta saved

.         
.         *1215 observations total (2007)
.         
. ********************************************
. ****CLEAN AND MERGE Vignette DATA WITHIN IFLS5****
. ********************************************
. 
. ***************************************************
. *00. Preamble
. ***************************************************
.         * Set user and the directory (YOUR path)
. global dir "C:\Users\User\Desktop\HW3"

. global raw "$dir"

. global output "$dir"

. 
. 
. ***************************************************
. *00. Public 2014
. ***************************************************
.         *public provider data
.         *load in vignette data
. 
.         clear all

.         
.         use "$raw/5-pusk_vig.dta", replace

.         drop if h15 == 3 | h15 == 7| h15 == .
(145 observations deleted)

.         
.         gen fac_type = " " 

.         replace fac_type = "pusk"
variable fac_type was str1 now str4
(815 real changes made)

.         
.         gen wave = " "

.         replace wave = "five"
variable wave was str1 now str4
(815 real changes made)

.         
.         merge 1:1 fascode ea using "$raw/5-pusk.dta", gen(merge_pusk)

    Result                      Number of obs
    -----------------------------------------
    Not matched                           146
        from master                         0  (merge_pusk==1)
        from using                        146  (merge_pusk==2)

    Matched                               815  (merge_pusk==3)
    -----------------------------------------

.         *not matched are 960-815 = 145 (146 really) who did not provide diabet
> es care
.         keep if merge_pusk == 3
(146 observations deleted)

.         drop merge_pusk

.         
.         rename a10 dual

.         label def dual 1 "Yes" 3 "No"

.         label val dual dual

.         
.         save "$raw/5-pusk-v2.dta", replace
file C:\Users\User\Desktop\HW3/5-pusk-v2.dta saved

. 
. ***************************************************
. *00. Private 2014
. ***************************************************
. ***add in private provider vignette from IFLS5
.         use "$raw/5-pra.dta", replace

.         
.         *drop if not interviewed
.         drop if result == 3
(1,931 observations deleted)

. 
.         save "$raw/5-pra-v2.dta", replace
file C:\Users\User\Desktop\HW3/5-pra-v2.dta saved

.         
.         *private vignette data
.         use "$raw/5-pra_vig.dta", replace

.         *1598 total
.         drop if hpr15 == 3 | hpr15 == 7 | hpr15 == .
(919 observations deleted)

.         *1598-919 = 679 left
.         sort fascode ea

. 
.         merge 1:1 fascode ea using "$raw/5-pra-v2.dta", gen(merge_pra)

    Result                      Number of obs
    -----------------------------------------
    Not matched                           919
        from master                         0  (merge_pra==1)
        from using                        919  (merge_pra==2)

    Matched                               679  (merge_pra==3)
    -----------------------------------------

.         keep if merge_pra == 3
(919 observations deleted)

.         drop merge_pra

.         
.         gen fac_type = " " 

.         replace fac_type = "private"
variable fac_type was str1 now str7
(679 real changes made)

.         
.         gen wave = " "

.         replace wave = "five"
variable wave was str1 now str4
(679 real changes made)

.         
. *APPEND
.         append using "$raw/5-pusk-v2.dta", force
(note: variable fascode was long in the using data, but will be str7 now)
(note: variable fcode14 was long in the using data, but will be str8 now)
(note: variable a7 was str4 in the using data, but will be byte now)
(variable a8 was byte, now int to accommodate using data's values)
(variable a11 was byte, now float to accommodate using data's values)
(variable a5a was int, now long to accommodate using data's values)

.         
.         *1494 facilities 2014
. ***************************************************
. *00. APPEND 2007 + 2014
. ***************************************************
.         append using "$output/4-vignette.dta", force
(note: variable lk16 was str3 in the using data, but will be byte now)
(note: variable akm04a was int in the using data, but will be str7 now)
(variable e9 was str1, now str2 to accommodate using data's values)
(variable a1b was byte, now int to accommodate using data's values)
(variable f14 was str1, now str2 to accommodate using data's values)
(variable sdp06a was byte, now int to accommodate using data's values)
(label dual already defined)

.         
.         *drop extraneous variables for now, can get them back later
.         replace h15 = hpr15 if h15 == .
(1,237 real changes made)

.         drop hpr15

.         
.         replace h17 = hpr17 if h17 == .
(1,237 real changes made)

.         drop hpr17

.         
.         replace h17a = hpr17a if h17a == .
(679 real changes made)

.         drop hpr17a

.         
.         replace h18 = hpr18 if h18 == .
(1,237 real changes made)

.         drop hpr18

.         
.         replace h19 = hpr19 if h19 == .
(1,237 real changes made)

.         drop hpr19

.         
.         replace h20_2 = hpr20_2 if h20_2 == . 
(1,059 real changes made)

.         drop hpr20_2

.         
.         replace h21_2 = hpr21_2 if h21_2 == .
(641 real changes made)

.         drop hpr21_2

.         
.         replace h22_2 = hpr22_2 if h22_2 == .
(387 real changes made)

.         drop hpr22_2

.         
.         
.         save "$output/full-vignette.dta", replace
file C:\Users\User\Desktop\HW3/full-vignette.dta saved

.         
. 
.         
.         
.         
.         
.         
.         
.         
.         
.         
.         
.         
.         
.         
.         
.         
.         
. 
end of do-file

. 
. do "1-score vignette and covariates-December 2020.do"

. 
. /*
> 
> Code by Dorit Stein
> dorittalia@gmail.com
> 
> For analysis in: 
> Stein DT, Sudharsanan N, Dewi S, Manne-Goehler J, Witoelar F, Geldsetzer P. Ch
> ange in clinical knowledge of diabetes among primary healthcare providers in I
> ndonesia: repeated cross-sectional survey of 5105 primary healthcare facilitie
> s. BMJ Open Diabetes Research and Care. 2020 Oct 1;8(1):e001415.
> 
> 
> This script (2 of 3) scores the diabetes care vignette and generates relevant 
> covariates.
> 
> */
. 
. ********************************************
. ****SCORE VIGNETTES****
. ********************************************
.         set more off

. 
. clear all

. 
. * Set user and the directory (YOUR path)
. global dir "C:\Users\User\Desktop\HW3"

. global raw "$dir"

. global output "$dir"

. 
.         
.         use "$output/full-vignette.dta", replace

. 
.         *use "$output/4-5-vignette-full-data.dta", replace
.         
.         *score
.         *remove unecessary columns 
.                 *chest x-ray
.                 drop h28a

.                 drop hpr28a

.                 *ultrasound
.                 drop h28f

.                 drop hpr28f

.                 *sputum exam 
.                 drop h28c

.                 drop hpr28c

.         
.         *add up all responses with a 1
.         
.         *loop through and keep 1s but put 0 for 2 + 3 so can add up for score
.         
.         ///ESSENTIAL ITEMS FIRST///
>         
.         foreach x of varlist hpr25a-hpr29h {
  2.         gen `x'_1 = . 
  3.         replace  `x'_1 = 1 if `x' == 1
  4.         replace `x'_1 = 0 if `x' == 2 | `x' == 3 | `x' == 9
  5.         }
(2,709 missing values generated)
(656 real changes made)
(581 real changes made)
(2,709 missing values generated)
(545 real changes made)
(692 real changes made)
(2,709 missing values generated)
(954 real changes made)
(283 real changes made)
(2,709 missing values generated)
(806 real changes made)
(431 real changes made)
(2,709 missing values generated)
(632 real changes made)
(605 real changes made)
(2,709 missing values generated)
(280 real changes made)
(957 real changes made)
(2,709 missing values generated)
(135 real changes made)
(1,102 real changes made)
(2,709 missing values generated)
(325 real changes made)
(912 real changes made)
(2,709 missing values generated)
(118 real changes made)
(1,119 real changes made)
(2,709 missing values generated)
(93 real changes made)
(1,144 real changes made)
(2,709 missing values generated)
(464 real changes made)
(773 real changes made)
(2,709 missing values generated)
(536 real changes made)
(701 real changes made)
(2,709 missing values generated)
(200 real changes made)
(1,037 real changes made)
(2,709 missing values generated)
(751 real changes made)
(486 real changes made)
(2,709 missing values generated)
(498 real changes made)
(739 real changes made)
(2,709 missing values generated)
(592 real changes made)
(645 real changes made)
(2,709 missing values generated)
(262 real changes made)
(975 real changes made)
(2,709 missing values generated)
(238 real changes made)
(999 real changes made)
(2,709 missing values generated)
(131 real changes made)
(1,106 real changes made)
(2,709 missing values generated)
(214 real changes made)
(1,023 real changes made)
(2,709 missing values generated)
(264 real changes made)
(973 real changes made)
(2,709 missing values generated)
(52 real changes made)
(1,185 real changes made)
(2,709 missing values generated)
(91 real changes made)
(1,146 real changes made)
(2,709 missing values generated)
(435 real changes made)
(802 real changes made)
(2,709 missing values generated)
(153 real changes made)
(1,084 real changes made)
(2,709 missing values generated)
(282 real changes made)
(955 real changes made)
(2,709 missing values generated)
(44 real changes made)
(1,193 real changes made)
(2,709 missing values generated)
(563 real changes made)
(674 real changes made)
(2,709 missing values generated)
(1,016 real changes made)
(221 real changes made)
(2,709 missing values generated)
(769 real changes made)
(468 real changes made)
(2,709 missing values generated)
(859 real changes made)
(378 real changes made)
(2,709 missing values generated)
(136 real changes made)
(1,101 real changes made)
(2,709 missing values generated)
(564 real changes made)
(673 real changes made)
(2,709 missing values generated)
(317 real changes made)
(920 real changes made)
(2,709 missing values generated)
(245 real changes made)
(992 real changes made)
(2,709 missing values generated)
(105 real changes made)
(1,132 real changes made)
(2,709 missing values generated)
(227 real changes made)
(1,010 real changes made)
(2,709 missing values generated)
(38 real changes made)
(1,199 real changes made)
(2,709 missing values generated)
(621 real changes made)
(616 real changes made)
(2,709 missing values generated)
(555 real changes made)
(682 real changes made)
(2,709 missing values generated)
(1,025 real changes made)
(212 real changes made)
(2,709 missing values generated)
(168 real changes made)
(1,069 real changes made)
(2,709 missing values generated)
(127 real changes made)
(1,110 real changes made)
(2,709 missing values generated)
(87 real changes made)
(1,150 real changes made)
(2,709 missing values generated)
(199 real changes made)
(1,038 real changes made)
(2,709 missing values generated)
(37 real changes made)
(1,200 real changes made)
(2,709 missing values generated)
(331 real changes made)
(906 real changes made)
(2,709 missing values generated)
(817 real changes made)
(420 real changes made)
(2,709 missing values generated)
(659 real changes made)
(578 real changes made)
(2,709 missing values generated)
(110 real changes made)
(1,127 real changes made)
(2,709 missing values generated)
(186 real changes made)
(1,051 real changes made)
(2,709 missing values generated)
(62 real changes made)
(1,175 real changes made)
(2,709 missing values generated)
(188 real changes made)
(1,049 real changes made)
(2,709 missing values generated)
(396 real changes made)
(841 real changes made)

.         
.         foreach x of varlist h25a-h29h {
  2.         gen `x'_1 = .
  3.         replace  `x'_1 = 1 if `x' == 1
  4.         replace `x'_1 = 0 if `x' == 2 | `x' == 3 | `x' == 9 
  5.         }
(2,709 missing values generated)
(784 real changes made)
(688 real changes made)
(2,709 missing values generated)
(662 real changes made)
(810 real changes made)
(2,709 missing values generated)
(1,240 real changes made)
(232 real changes made)
(2,709 missing values generated)
(1,090 real changes made)
(382 real changes made)
(2,709 missing values generated)
(803 real changes made)
(669 real changes made)
(2,709 missing values generated)
(338 real changes made)
(1,134 real changes made)
(2,709 missing values generated)
(177 real changes made)
(1,295 real changes made)
(2,709 missing values generated)
(482 real changes made)
(990 real changes made)
(2,709 missing values generated)
(149 real changes made)
(1,323 real changes made)
(2,709 missing values generated)
(145 real changes made)
(1,327 real changes made)
(2,709 missing values generated)
(626 real changes made)
(846 real changes made)
(2,709 missing values generated)
(706 real changes made)
(766 real changes made)
(2,709 missing values generated)
(260 real changes made)
(1,212 real changes made)
(2,709 missing values generated)
(1,032 real changes made)
(440 real changes made)
(2,709 missing values generated)
(662 real changes made)
(810 real changes made)
(2,709 missing values generated)
(741 real changes made)
(731 real changes made)
(2,709 missing values generated)
(418 real changes made)
(1,054 real changes made)
(2,709 missing values generated)
(292 real changes made)
(1,180 real changes made)
(2,709 missing values generated)
(218 real changes made)
(1,254 real changes made)
(2,709 missing values generated)
(252 real changes made)
(1,220 real changes made)
(2,709 missing values generated)
(294 real changes made)
(1,178 real changes made)
(2,709 missing values generated)
(59 real changes made)
(1,413 real changes made)
(2,709 missing values generated)
(133 real changes made)
(1,339 real changes made)
(2,709 missing values generated)
(579 real changes made)
(893 real changes made)
(2,709 missing values generated)
(198 real changes made)
(1,274 real changes made)
(2,709 missing values generated)
(345 real changes made)
(1,127 real changes made)
(2,709 missing values generated)
(55 real changes made)
(1,417 real changes made)
(2,709 missing values generated)
(828 real changes made)
(644 real changes made)
(2,709 missing values generated)
(1,255 real changes made)
(217 real changes made)
(2,709 missing values generated)
(1,011 real changes made)
(461 real changes made)
(2,709 missing values generated)
(1,071 real changes made)
(401 real changes made)
(2,709 missing values generated)
(164 real changes made)
(1,308 real changes made)
(2,709 missing values generated)
(662 real changes made)
(810 real changes made)
(2,709 missing values generated)
(405 real changes made)
(1,067 real changes made)
(2,709 missing values generated)
(322 real changes made)
(1,150 real changes made)
(2,709 missing values generated)
(136 real changes made)
(1,336 real changes made)
(2,709 missing values generated)
(302 real changes made)
(1,170 real changes made)
(2,709 missing values generated)
(44 real changes made)
(1,428 real changes made)
(2,709 missing values generated)
(796 real changes made)
(676 real changes made)
(2,709 missing values generated)
(679 real changes made)
(793 real changes made)
(2,709 missing values generated)
(1,205 real changes made)
(267 real changes made)
(2,709 missing values generated)
(219 real changes made)
(1,253 real changes made)
(2,709 missing values generated)
(159 real changes made)
(1,313 real changes made)
(2,709 missing values generated)
(97 real changes made)
(1,375 real changes made)
(2,709 missing values generated)
(211 real changes made)
(1,261 real changes made)
(2,709 missing values generated)
(45 real changes made)
(1,427 real changes made)
(2,709 missing values generated)
(396 real changes made)
(1,076 real changes made)
(2,709 missing values generated)
(1,070 real changes made)
(402 real changes made)
(2,709 missing values generated)
(871 real changes made)
(601 real changes made)
(2,709 missing values generated)
(152 real changes made)
(1,320 real changes made)
(2,709 missing values generated)
(214 real changes made)
(1,258 real changes made)
(2,709 missing values generated)
(56 real changes made)
(1,416 real changes made)
(2,709 missing values generated)
(261 real changes made)
(1,211 real changes made)
(2,709 missing values generated)
(522 real changes made)
(950 real changes made)

.         
.         
.         drop h25f_1 h25g_1 h25h_1 h25o_1 h25q_1 h26n_1 h27b_1 h27d_1 ///
>         h27f_1 h27i_1 h27j_1 h28d_1 h28e_1 h28g_1 h28i_1 h29c_1

.         drop hpr25f_1 hpr25g_1 hpr25h_1 hpr25o_1 hpr25q_1 hpr26n_1 hpr27b_1 hp
> r27d_1 ///
>         hpr27f_1 hpr27i_1 hpr27j_1 hpr28d_1 hpr28e_1 hpr28g_1 hpr28i_1 hpr29c_
> 1

.         
.         *add up each row of responses and divide by 38 for score (ESSENTIAL)
.         egen vig_total1 = rowtotal(h25a_1-h29h_1) if fac_type == "pusk"
(1,237 missing values generated)

.         replace vig_total1 = . if fac_type == "private"
(0 real changes made)

.         egen vig_total2 = rowtotal(hpr25a_1-hpr29h_1) if fac_type == "private"
(1,472 missing values generated)

.         replace vig_total2 = . if fac_type == "pusk"
(0 real changes made)

.         
.         gen vig_total = .
(2,709 missing values generated)

.         replace vig_total = vig_total1 if fac_type == "pusk"
(1,472 real changes made)

.         replace vig_total = vig_total2 if fac_type == "private"
(1,237 real changes made)

.         
.         gen vig_score = .
(2,709 missing values generated)

.         replace vig_score = vig_total/38
(2,709 real changes made)

.         
.         
.         label var vig_score "ESSENTIAL Vignette Score"

.         
.         sum vig_score

    Variable |        Obs        Mean    Std. dev.       Min        Max
-------------+---------------------------------------------------------
   vig_score |      2,709    .3269608    .1419022          0   .9736842

.         sum vig_score if fac_type == "pusk"

    Variable |        Obs        Mean    Std. dev.       Min        Max
-------------+---------------------------------------------------------
   vig_score |      1,472    .3380828    .1367643          0   .9736842

.         sum vig_score if fac_type == "private"

    Variable |        Obs        Mean    Std. dev.       Min        Max
-------------+---------------------------------------------------------
   vig_score |      1,237    .3137259    .1467444          0   .8421053

.         
.         *format commid and year 
.         destring commid07, replace
commid07 already numeric; no replace

.         destring commid14, replace
commid14 already numeric; no replace

.         
.         gen commid = . 
(2,709 missing values generated)

.         replace commid = commid14 if commid07 == . 
(1,494 real changes made)

.         replace commid = commid07 if commid14 == . 
(1,215 real changes made)

.         
.         *year variable
.         gen year = " " 

.         replace year = "1" if wave == "five"
(1,494 real changes made)

.         replace year = "0" if wave == "four"
(1,215 real changes made)

.         destring year, replace
year: all characters numeric; replaced as byte

.         label def year 1 "2014" 0 "2007"

.         label value year year

.         
.         *cadre
.         gen cadre = . 
(2,709 missing values generated)

.         replace cadre = 1 if h17 == 1 | h17 == 2
(1,736 real changes made)

.         replace cadre = 2 if h17 == 3 //nurse
(557 real changes made)

.         replace cadre = 3 if h17 == 4 //midwife
(296 real changes made)

.         replace cadre = 4 if h17 == 5 //paramedic
(120 real changes made)

.         
.         label def cadre 1 "doctor" 2 "nurse" ///
>         3 "midwife" 4 "paramedic"

.         label value cadre cadre

.         
.         tab cadre, generate(cadre)

      cadre |      Freq.     Percent        Cum.
------------+-----------------------------------
     doctor |      1,736       64.08       64.08
      nurse |        557       20.56       84.64
    midwife |        296       10.93       95.57
  paramedic |        120        4.43      100.00
------------+-----------------------------------
      Total |      2,709      100.00

.         label def cadre1 0 "Non-physician" 1 "medical or specialist doctor"

.         label value cadre1 cadre1

.         label def cadre22 0 "Non-nurse" 1 "Nurse"

.         label value cadre2 cadre22

.         label def cadre3 0 "Non-midwife" 1 "Midwife"

.         label value cadre3 cadre3

.         label def cadre4 0 "Non-paramedic" 1 "Paramedic"

.         label value cadre4 cadre4

.         
.         gen vig_per = vig_score *100

.         label var vig_per "Essential vignette percent"

.         
.         drop if commid == 9999
(2 observations deleted)

.         
.         gen private_fac = " "

.         replace private_fac = "1" if fac_type == "private"
(1,236 real changes made)

.         replace private_fac = "0" if fac_type == "pusk"
(1,471 real changes made)

.         destring private_fac, replace
private_fac: all characters numeric; replaced as byte

.         lab def private_fac 1 "private" 0 "puskesmas"

.         lab var private_fac private_fac

.         
.         label var h20_2 "received NCD training"

.         rename h20_2 training_ncd

.         label var h18 "when did head complete training"

.         rename h18 complete_ed

.         
.         *training relabel
.         replace training_ncd = . if training_ncd == 9
(1 real change made, 1 to missing)

.         replace training_ncd = 0 if training_ncd == 3
(920 real changes made)

.         replace training_ncd = 0 if h19 == 3 
(361 real changes made)

.         *h19 asks if they had training (360 said no)
.         tab training_ncd year, missing

  received |
       NCD |         year
  training |      2007       2014 |     Total
-----------+----------------------+----------
         0 |       597        684 |     1,281 
         1 |       615        810 |     1,425 
         . |         1          0 |         1 
-----------+----------------------+----------
     Total |     1,213      1,494 |     2,707 

.         
.         label def training_ncd 0 "No Training" 1 "Yes Training"

.         label value training_ncd training_ncd

.         
.         *interactions
.         gen privxtime = private_fac*year

.         
.         gen phys = 1 if cadre == 1
(972 missing values generated)

.         replace phys = 0 if cadre ~= 1
(972 real changes made)

.         gen physxtime = phys*year 

.         
.         gen nurse = 1 if cadre == 2 | cadre == 3
(1,855 missing values generated)

.         replace nurse = 0 if cadre == 1 | cadre == 4
(1,855 real changes made)

.         gen nursextime = nurse*year

.         
.         gen priv_nurse = 0

.         replace priv_nurse = 1 if nurse == 1 & private_fac == 1
(398 real changes made)

.         gen pnursextime = priv_nurse * year

. 
.         rename lk05 urban 

.         replace urban = 1 if urban == 1
(0 real changes made)

.         replace urban = 0 if urban == 2
(699 real changes made)

.         label def urban 1 "Urban" 0 "Rural"

.         label value urban urban

.         
.         *trained in last 10 years
.         gen train_ten = . 
(2,707 missing values generated)

.         replace train_ten = 0 if complete_ed < 1997 & year == 0
(569 real changes made)

.         replace train_ten = 0 if complete_ed < 2004 & year == 1
(606 real changes made)

.         replace train_ten = 1 if complete_ed >= 1997 & year == 0
(644 real changes made)

.         replace train_ten = 1 if complete_ed >= 2004 & year == 1
(888 real changes made)

.         replace train_ten = . if complete_ed == 9998
(2 real changes made, 2 to missing)

.         
.         *years of experience 
.         replace complete_ed = . if complete_ed == 9998
(2 real changes made, 2 to missing)

.         gen experience = . 
(2,707 missing values generated)

.         replace experience = (2007 - complete_ed) if year == 0
(1,213 real changes made)

.         replace experience = (2014 - complete_ed) if year == 1
(1,492 real changes made)

.         replace experience = 0 if year == 0 & complete_ed == 2008
(5 real changes made)

.         replace experience = 0 if year == 1 & complete_ed == 2015
(7 real changes made)

.         
.         label def private_fac2 1 "Private" 0 "Public" 

.         label value private_fac private_fac2

.         
.         gen logexperience = log(experience)
(100 missing values generated)

.         
.         drop if urban == .
(0 observations deleted)

.         drop if experience == .
(2 observations deleted)

.         drop if training == .
(1 observation deleted)

.         
.         *pull out province code from commid for IFLS 4 facilities
.         *make commid string to subset first 2 digits
.         tostring commid, gen(commid_string) 
commid_string generated as str4

.         gen province = substr(commid_string, 1, 2)

.         destring province, replace
province: all characters numeric; replaced as byte

.         
.         label def province 12 "North Sumatra" 13 "West Sumatra" 16 "South Suma
> tra" 18 "Lampung" ///
>         31 "Jakarta" 32 "West Java" 33 "Central Java" 34 "Yogyakarta" 35 "East
>  Java" ///
>         51 "Bali" 52 "West Nusa Tenggara" 63 "South Kalimantan" 73 "South Sula
> wesi"

.         label val province province

.         
.         *name of private facility type
.         rename lk13 priv_type

.         label def priv_type 1 "Private Physician" 2 "Clinic" 3 "Midwife" ///
>         4 "Paramedic/Nurse" 5 "Village Midwife"

.         label val priv_type priv_type

.         
.         *type of public
.         rename lk11 pub_type

.         label def pub_type 1 "Puskesmas" 2 "Puskesmas Pembantu"

.         label val pub_type pub_type

.         
.         *outer java-bali and java-bali 
.         gen outer_javabali = 0

.         replace outer_javabali = 1 if province == 12 | province == 13 | ///
>         province == 16 | province == 18 | ///
>         province == 73 | province == 63 | province == 52
(815 real changes made)

.         
.         label def outer_javabali 0 "Java/Bali" 1 "Outer Java/Bali"

.         label val outer_javabali outer_javabali

.         
.         *java and non-java
.         gen non_java = 0

.         replace non_java = 1 if province == 51 | province == 12 | province == 
> 13 | ///
>         province == 16 | province == 18 | ///
>         province == 73 | province == 63 | province == 52
(920 real changes made)

.         
.         *remove strings in fascode so can destring
.         gen byte notnumeric = real(fascode)==.

.         
.         replace fascode = "0232050" if fascode == "023205B"    
(1 real change made)

.         replace fascode = "7305150" if fascode == "73C515A"
(1 real change made)

.         destring fascode, gen(fcode)
fascode: all characters numeric; fcode generated as long
(813 missing values generated)

.         
.         *make FCODEd variable that has FCODE with COMMID embedded in it
.         gen fcode2 = " "

.         replace fcode2 = fcode14 if fcode07 == ""
variable fcode2 was str1 now str8
(1,492 real changes made)

.         replace fcode2 = fcode07 if fcode14 == ""
(1,212 real changes made)

.         *remove strings in fascode so can destring
.         gen byte fnotnumeric = real(fcode2)==.

.         
.         replace fcode2 = "12242050" if fcode2 == "1224205B"    
(1 real change made)

.         replace fcode2 = "99995150" if fcode2 == "9999515A"
(1 real change made)

.         destring fcode2, gen(fcode3)
fcode2: all characters numeric; fcode3 generated as long
(813 missing values generated)

.         
.         **DIABETES TRAINING**
.         *code Ever had Diabetes training WITH DRUGS
.                 *#4 - regarding/concerning drugs for diabetes
.                         *1 - Yes, 3 - No
.         *hpr20_4 IFLS4/5 - private
.         *h20_4 IFLS4/5 - public
.         *h19 is have you had training since you graduated, 
.         *so 3 = NO and then would be NO for all subsequent training questions
.         
.         *indicators for training - non-mutually exclusive 
.         *ever had ncd training, diabetes training with drugs, diabetes trainin
> g
.         
.         gen drugs_training = . 
(2,704 missing values generated)

.         replace drugs_training = 1 if hpr20_4 == 1 | h20_4 == 1
(1,390 real changes made)

.         replace drugs_training = 0 if hpr20_4 == 3 | h20_4 == 3
(953 real changes made)

.         replace drugs_training = 0 if h19 == 3
(361 real changes made)

.         label var drugs_training "Ever had Diabetes Training with Drugs"

.         label def drugs_training 1 "Yes Drugs Training" 0 "No Drugs Training"

.         label val drugs_training drugs_training

.         
.         *Ever had Diabetes training 
.         gen diabetes_training = . 
(2,704 missing values generated)

.         replace diabetes_training = 1 if hpr20_3 == 1 | h20_3 == 1
(1,428 real changes made)

.         replace diabetes_training = 0 if hpr20_3 == 3 | h20_3 == 3
(915 real changes made)

.         replace diabetes_training = 0 if h19 == 3
(361 real changes made)

.         label var diabetes_training "Ever had Diabetes Training" 

.         label def diabetes_training 1 "Yes Diabetes Training" 0 "No Diabetes T
> raining"

.         label val diabetes_training diabetes_training

.         
.         *leveled variable for no diabetes training, diabetes training with no 
> drugs only, diabetes training with drugs
.         gen training_levels = .
(2,704 missing values generated)

.         replace training_levels = 0 if h19 == 3 | drugs_training == 0 | diabet
> es_training == 0
(1,381 real changes made)

.         replace training_levels = 1 if diabetes_training == 1 & drugs_training
>  == 0
(105 real changes made)

.         replace training_levels = 2 if drugs_training == 1
(1,390 real changes made)

.         label var training_levels "No, Diabetes, Drug Training Levels"

.         label def training_levels 0 "No Training" 1 "Diabetes training" 2 "Dia
> betes with drug training"

.         label val training_levels training_levels

.         
.         *respondents who said no training since graduation 
.         *h19
.         
.         *make categories of experience
.         gen exp_level = .
(2,704 missing values generated)

.         replace exp_level = 0 if experience <= 5
(885 real changes made)

.         replace exp_level = 1 if experience > 5 & experience <= 10
(644 real changes made)

.         replace exp_level = 2 if experience > 10 & experience <= 20
(705 real changes made)

.         replace exp_level = 3 if experience > 20 & experience != .
(470 real changes made)

.         label var exp_level "Categories of experience"

.         label def exp_level 0 "Less than or equal to 5" 1 "5-10" 2 "10-20" 3 "
> 20+"

.         label val exp_level exp_level

.         
.         
.         save "$output/vignette-scores-provider-level8.dta", replace
file C:\Users\User\Desktop\HW3/vignette-scores-provider-level8.dta saved

. 
end of do-file

. 
. do "2-regressions-December 2020.do"

. 
. /*
> 
> Code by Dorit Stein
> dorittalia@gmail.com
> 
> For analysis in: 
> Stein DT, Sudharsanan N, Dewi S, Manne-Goehler J, Witoelar F, Geldsetzer P. Ch
> ange in clinical knowledge of diabetes among primary healthcare providers in I
> ndonesia: repeated cross-sectional survey of 5105 primary healthcare facilitie
> s. BMJ Open Diabetes Research and Care. 2020 Oct 1;8(1):e001415.
> 
> 
> This script (3 of 3) runs the regressions in the paper, including the suppleme
> ntary analysis and robustness checks.
> 
> */
. 
. ********************************************
. ****provider level regress****
. ********************************************
.         set more off

. clear all

. 
. * Set user and the directory (YOUR path)
. global dir "C:\Users\User\Desktop\HW3"

. global raw "$dir"

. global output "$dir"

. 
. 
.         use "$output/vignette-scores-provider-level8.dta", replace

.         
.         *create province indicators (just using levels of factor variable)
.         tab province, generate(province)

          province |      Freq.     Percent        Cum.
-------------------+-----------------------------------
     North Sumatra |        195        7.21        7.21
      West Sumatra |         94        3.48       10.69
     South Sumatra |         94        3.48       14.16
           Lampung |         88        3.25       17.42
           Jakarta |        450       16.64       34.06
         West Java |        442       16.35       50.41
      Central Java |        340       12.57       62.98
        Yogyakarta |        180        6.66       69.64
         East Java |        372       13.76       83.39
              Bali |        105        3.88       87.28
West Nusa Tenggara |         92        3.40       90.68
  South Kalimantan |        103        3.81       94.49
    South Sulawesi |        149        5.51      100.00
-------------------+-----------------------------------
             Total |      2,704      100.00

.         
.         ssc install coefplot, replace
checking coefplot consistency and verifying not already installed...
all files already exist and are up to date.

.         
. 
. ********************************************
. ****provider level regress****
. ********************************************
.         *REGRESSION TABLE
.         eststo clear

.         
.         reg vig_per i.year i.cadre, cluster(commid)

Linear regression                               Number of obs     =      2,704
                                                F(4, 311)         =      99.56
                                                Prob > F          =     0.0000
                                                R-squared         =     0.1603
                                                Root MSE          =     12.997

                               (Std. err. adjusted for 312 clusters in commid)
------------------------------------------------------------------------------
             |               Robust
     vig_per | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
        year |
       2014  |  -6.507385   .6448943   -10.09   0.000    -7.776292   -5.238477
             |
       cadre |
      nurse  |  -7.751183   .6502179   -11.92   0.000    -9.030566   -6.471801
    midwife  |  -10.04401   .8347932   -12.03   0.000    -11.68657   -8.401453
  paramedic  |  -7.800067   1.403422    -5.56   0.000    -10.56147   -5.038664
             |
       _cons |   39.33406   .5876406    66.94   0.000      38.1778    40.49031
------------------------------------------------------------------------------

.                 estimates store null

.         
.         reg vig_per i.year i.cadre i.urban i.province, cluster(commid)

Linear regression                               Number of obs     =      2,704
                                                F(17, 311)        =      43.06
                                                Prob > F          =     0.0000
                                                R-squared         =     0.2114
                                                Root MSE          =     12.626

                                (Std. err. adjusted for 312 clusters in commid)
-------------------------------------------------------------------------------
              |               Robust
      vig_per | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
--------------+----------------------------------------------------------------
         year |
        2014  |  -6.478071   .6409738   -10.11   0.000    -7.739265   -5.216878
              |
        cadre |
       nurse  |  -7.487095   .6265602   -11.95   0.000    -8.719928   -6.254262
     midwife  |  -8.520202   .8289736   -10.28   0.000    -10.15131   -6.889096
   paramedic  |  -7.264676   1.273876    -5.70   0.000    -9.771182    -4.75817
              |
        urban |
       Urban  |   .7257367   .6514435     1.11   0.266    -.5560573    2.007531
              |
     province |
West Sumatra  |   6.567592   1.272516     5.16   0.000     4.063762    9.071422
South Suma..  |   2.209568   1.228658     1.80   0.073    -.2079643    4.627101
     Lampung  |   3.777905   1.000642     3.78   0.000      1.80902     5.74679
     Jakarta  |   1.106417   1.284615     0.86   0.390    -1.421218    3.634052
   West Java  |   6.627284   1.065582     6.22   0.000     4.530621    8.723946
Central Java  |   7.446307   1.481511     5.03   0.000     4.531255    10.36136
  Yogyakarta  |    11.1192   1.276098     8.71   0.000     8.608323    13.63008
   East Java  |   2.472768   1.137885     2.17   0.031     .2338415    4.711694
        Bali  |   1.264205   1.521307     0.83   0.407     -1.72915     4.25756
West Nusa ..  |   3.442217   1.549172     2.22   0.027      .394034      6.4904
South Kali..  |   .5273708   1.764236     0.30   0.765    -2.943977    3.998718
South Sula..  |   7.116103   1.070882     6.65   0.000     5.009012    9.223194
              |
        _cons |   34.24429   1.056791    32.40   0.000     32.16492    36.32365
-------------------------------------------------------------------------------

.                 estimates store unadjusted

.         
.         reg vig_per i.year i.cadre i.urban experience i.training_ncd ///
>         i.diabetes_training i.drugs_training i.private_fac i.province, ///
>         cluster(commid)

Linear regression                               Number of obs     =      2,704
                                                F(22, 311)        =      40.28
                                                Prob > F          =     0.0000
                                                R-squared         =     0.2360
                                                Root MSE          =     12.439

                                (Std. err. adjusted for 312 clusters in commid)
-------------------------------------------------------------------------------
              |               Robust
      vig_per | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
--------------+----------------------------------------------------------------
         year |
        2014  |  -6.936245   .6412941   -10.82   0.000    -8.198069   -5.674421
              |
        cadre |
       nurse  |  -5.639388   .6580166    -8.57   0.000    -6.934116   -4.344661
     midwife  |   -5.64301   .9472225    -5.96   0.000    -7.506785   -3.779235
   paramedic  |  -5.056191   1.258695    -4.02   0.000    -7.532827   -2.579556
              |
        urban |
       Urban  |   .8394287   .6333058     1.33   0.186    -.4066772    2.085535
   experience |  -.0745319   .0296464    -2.51   0.012    -.1328647   -.0161992
              |
 training_ncd |
Yes Training  |   2.153296   .6086313     3.54   0.000     .9557404    3.350852
              |
diabetes_tr~g |
Yes Diabet..  |   2.563721   1.054013     2.43   0.016     .4898234    4.637619
              |
drugs_train~g |
Yes Drugs ..  |   .6586193    1.02454     0.64   0.521    -1.357287    2.674526
              |
  private_fac |
     Private  |  -1.855468    .468722    -3.96   0.000    -2.777735   -.9332004
              |
     province |
West Sumatra  |    6.30447    1.30405     4.83   0.000     3.738594    8.870345
South Suma..  |    2.07796   1.176208     1.77   0.078    -.2363709    4.392292
     Lampung  |   3.927065   1.019317     3.85   0.000     1.921436    5.932694
     Jakarta  |   1.465737   1.279229     1.15   0.253    -1.051301    3.982775
   West Java  |   6.480572   1.039744     6.23   0.000     4.434749    8.526395
Central Java  |   7.107441   1.461684     4.86   0.000     4.231401    9.983481
  Yogyakarta  |   10.72696   1.257057     8.53   0.000     8.253545    13.20037
   East Java  |   2.460044    1.14967     2.14   0.033     .1979283     4.72216
        Bali  |   1.733029   1.510569     1.15   0.252    -1.239199    4.705256
West Nusa ..  |   3.923833   1.453987     2.70   0.007     1.062936    6.784729
South Kali..  |   1.171859   1.792975     0.65   0.514    -2.356037    4.699755
South Sula..  |   7.163761   1.080388     6.63   0.000     5.037967    9.289554
              |
        _cons |   32.48372   1.153417    28.16   0.000     30.21424    34.75321
-------------------------------------------------------------------------------

.                 estimates store adjusted_final

.                 
.                         
. ********************************************
. ****Coefplot****
. ********************************************
. 
.         *set graph things
.                 *ssc install grstyle
.                 grstyle clear

.                 grstyle init

.                 grstyle set plain, nogrid 

. 
.         coefplot (null, label("Model 1") msymbol(o) color(black) ciopts(color(
> black)) mlabcolor (black)) ///
>                         (unadjusted, label("Model 2") msymbol(d) color(maroon)
>  ciopts(color(maroon)) mlabcolor (maroon)) ///
>                         (adjusted_final, label("Model 3") msymbol(s) color(nav
> y) ciopts(color(navy)) mlabcolor (navy)), ///
>                         drop(_cons *.province) /// 
>                 name(graphygraph, replace)  ///
>         xlabel(,labsize(3)) xline(0, lwidth(vthin) lcolor(dkorange)) ///
>         ylabel(1 "Year" 2 "Nurse" 3 "Midwife" 4 "Paramedic" 5 "Urban" 6 "Years
>  of Experience" ///
>         7 "NCD Training" 8 "Diabetes Training" 9 "Diabetes Drugs Training" ///
>         10 "Private Facility", labsize(3)) ///
>         mlabel format(%-2.1f) mlabposition(2) mlabgap(*1.0) mlabsize(2.5) ///
>         graphregion(color(white)) legend(position(5) rows(1) size(3)) ///
>         ysize(10)  ///
>         xsize(7) ///
>         xlabel(-12(4)4) xscale(range(-12(1)4))

.         
.         graph export "$output/Figure3-coefplot.eps", replace fontface(Helvetic
> a)
file C:\Users\User\Desktop\HW3/Figure3-coefplot.eps saved as EPS format

.          
.         
. ********************************************
. ****2014 regressions with place of education****
.                         **for appendix**
. ********************************************
. 
.         *where did you study? in diabetes vignette
.         gen vig_education = . 
(2,704 missing values generated)

.         replace vig_education = 0 if h17a == 1 | h17a == 2 | h17a == 3 | ///
>         h17a == 4 | h17a == 5 
(209 real changes made)

.         replace vig_education = 1 if h17a == 6
(226 real changes made)

.         replace vig_education = 2 if h17a == 7
(406 real changes made)

.         replace vig_education = 3 if h17a == 95
(651 real changes made)

.         
.         label def vig_education 0 "Main universities" ///
>         2 "private university" 3 "Other" ///
>         1 "Other State university"

.         label value vig_education vig_education

.         
.         *run only 2014 vignette to see if score is different by place of study
> *
.         eststo clear

.         
.         reg vig_per i.cadre i.vig_education if year == 1 ///
>         , cluster(commid)

Linear regression                               Number of obs     =      1,492
                                                F(6, 309)         =      34.94
                                                Prob > F          =     0.0000
                                                R-squared         =     0.1339
                                                Root MSE          =     12.572

                                (Std. err. adjusted for 310 clusters in commid)
-------------------------------------------------------------------------------
              |               Robust
      vig_per | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
--------------+----------------------------------------------------------------
        cadre |
       nurse  |  -6.462833   .9528711    -6.78   0.000     -8.33777   -4.587897
     midwife  |  -9.856645    1.00339    -9.82   0.000    -11.83099   -7.882304
   paramedic  |  -9.676719   1.463932    -6.61   0.000    -12.55726   -6.796183
              |
vig_education |
Other Stat..  |  -3.341839   1.358187    -2.46   0.014    -6.014304   -.6693733
private un..  |   -3.23207   1.351655    -2.39   0.017    -5.891682   -.5724584
       Other  |  -4.512132   1.227136    -3.68   0.000    -6.926732   -2.097532
              |
        _cons |   35.90239   1.038397    34.57   0.000     33.85916    37.94561
-------------------------------------------------------------------------------

.                 estimates store uni1

.         
.         reg vig_per i.cadre i.urban i.vig_education i.province if year == 1 //
> /
>         , cluster(commid)

Linear regression                               Number of obs     =      1,492
                                                F(19, 309)        =      19.43
                                                Prob > F          =     0.0000
                                                R-squared         =     0.1889
                                                Root MSE          =     12.221

                                (Std. err. adjusted for 310 clusters in commid)
-------------------------------------------------------------------------------
              |               Robust
      vig_per | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
--------------+----------------------------------------------------------------
        cadre |
       nurse  |  -6.747617   .9608689    -7.02   0.000    -8.638291   -4.856944
     midwife  |  -8.436952   1.030557    -8.19   0.000    -10.46475   -6.409155
   paramedic  |  -9.959705   1.417959    -7.02   0.000    -12.74978   -7.169628
              |
        urban |
       Urban  |   1.543274   .8733704     1.77   0.078    -.1752313     3.26178
              |
vig_education |
Other Stat..  |  -1.424387   1.393817    -1.02   0.308     -4.16696    1.318185
private un..  |  -2.374263   1.345817    -1.76   0.079    -5.022388     .273862
       Other  |  -3.460026   1.275879    -2.71   0.007    -5.970537   -.9495146
              |
     province |
West Sumatra  |   4.248529   1.325033     3.21   0.001       1.6413    6.855757
South Suma..  |   3.101009   1.824578     1.70   0.090    -.4891597    6.691177
     Lampung  |   3.126385   1.403423     2.23   0.027     .3649111    5.887858
     Jakarta  |  -.7790269   1.424295    -0.55   0.585     -3.58157    2.023517
   West Java  |   6.955963   1.261383     5.51   0.000     4.473976     9.43795
Central Java  |   7.038714   1.501526     4.69   0.000     4.084204    9.993223
  Yogyakarta  |   4.594133   1.714868     2.68   0.008     1.219838    7.968428
   East Java  |   1.165396    1.10173     1.06   0.291    -1.002446    3.333237
        Bali  |  -2.881977   1.725727    -1.67   0.096    -6.277641     .513686
West Nusa ..  |   2.422741   2.235603     1.08   0.279     -1.97619    6.821671
South Kali..  |   4.437408   2.768459     1.60   0.110    -1.010008    9.884825
South Sula..  |  -1.152508   1.611539    -0.72   0.475    -4.323487     2.01847
              |
        _cons |   30.90594   1.519929    20.33   0.000     27.91522    33.89666
-------------------------------------------------------------------------------

.                 estimates store uni2

. 
.         reg vig_per i.cadre i.urban experience i.training_ncd ///
>         i.diabetes_training i.drugs_training i.private_fac i.vig_education ///
>         i.province if year == 1, ///
>         cluster(commid)

Linear regression                               Number of obs     =      1,492
                                                F(24, 309)        =      18.38
                                                Prob > F          =     0.0000
                                                R-squared         =     0.2225
                                                Root MSE          =     11.985

                                (Std. err. adjusted for 310 clusters in commid)
-------------------------------------------------------------------------------
              |               Robust
      vig_per | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
--------------+----------------------------------------------------------------
        cadre |
       nurse  |  -5.432029    .962943    -5.64   0.000    -7.326784   -3.537274
     midwife  |  -5.977903   1.142157    -5.23   0.000    -8.225292   -3.730513
   paramedic  |  -7.202281   1.336394    -5.39   0.000    -9.831864   -4.572697
              |
        urban |
       Urban  |   1.467904   .8674056     1.69   0.092    -.2388644    3.174673
   experience |  -.1094998   .0359618    -3.04   0.003    -.1802609   -.0387388
              |
 training_ncd |
Yes Training  |   1.955624   .7176816     2.72   0.007     .5434624    3.367785
              |
diabetes_tr~g |
Yes Diabet..  |   1.213218   1.117849     1.09   0.279     -.986341    3.412777
              |
drugs_train~g |
Yes Drugs ..  |   1.227949    1.12686     1.09   0.277    -.9893415    3.445239
              |
  private_fac |
     Private  |  -3.379995   .6240289    -5.42   0.000    -4.607879   -2.152112
              |
vig_education |
Other Stat..  |  -2.260128   1.374704    -1.64   0.101    -4.965093    .4448372
private un..  |  -3.025138   1.274239    -2.37   0.018    -5.532421   -.5178562
       Other  |  -3.920012   1.215099    -3.23   0.001    -6.310927   -1.529097
              |
     province |
West Sumatra  |   4.016843   1.502989     2.67   0.008     1.059456    6.974231
South Suma..  |    2.65955   1.774332     1.50   0.135     -.831751     6.15085
     Lampung  |   3.154486   1.456967     2.17   0.031     .2876546    6.021317
     Jakarta  |  -.5327877   1.409377    -0.38   0.706    -3.305978    2.240403
   West Java  |   6.941437   1.261521     5.50   0.000     4.459179    9.423696
Central Java  |   6.694293   1.532584     4.37   0.000     3.678672    9.709913
  Yogyakarta  |   4.043467    1.74504     2.32   0.021      .609803    7.477131
   East Java  |    1.09088    1.13402     0.96   0.337    -1.140498    3.322258
        Bali  |   -2.00669   1.804286    -1.11   0.267    -5.556931    1.543551
West Nusa ..  |   2.025575   2.167482     0.93   0.351    -2.239315    6.290466
South Kali..  |   4.260896   2.920383     1.46   0.146    -1.485458    10.00725
South Sula..  |  -.5781761   1.629698    -0.35   0.723    -3.784886    2.628534
              |
        _cons |   31.13207   1.627991    19.12   0.000     27.92872    34.33542
-------------------------------------------------------------------------------

.                 estimates store uni3

. 
.         ************************************************
.         **************ROBUSTNESS CHECKS*****************
.         ************************************************
.         
.         eststo clear

.         
.         *original Model 3
.                 reg vig_per i.year i.cadre i.urban experience i.training_ncd /
> //
>                 i.diabetes_training i.drugs_training i.private_fac i.province,
>  cluster(commid)

Linear regression                               Number of obs     =      2,704
                                                F(22, 311)        =      40.28
                                                Prob > F          =     0.0000
                                                R-squared         =     0.2360
                                                Root MSE          =     12.439

                                (Std. err. adjusted for 312 clusters in commid)
-------------------------------------------------------------------------------
              |               Robust
      vig_per | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
--------------+----------------------------------------------------------------
         year |
        2014  |  -6.936245   .6412941   -10.82   0.000    -8.198069   -5.674421
              |
        cadre |
       nurse  |  -5.639388   .6580166    -8.57   0.000    -6.934116   -4.344661
     midwife  |   -5.64301   .9472225    -5.96   0.000    -7.506785   -3.779235
   paramedic  |  -5.056191   1.258695    -4.02   0.000    -7.532827   -2.579556
              |
        urban |
       Urban  |   .8394287   .6333058     1.33   0.186    -.4066772    2.085535
   experience |  -.0745319   .0296464    -2.51   0.012    -.1328647   -.0161992
              |
 training_ncd |
Yes Training  |   2.153296   .6086313     3.54   0.000     .9557404    3.350852
              |
diabetes_tr~g |
Yes Diabet..  |   2.563721   1.054013     2.43   0.016     .4898234    4.637619
              |
drugs_train~g |
Yes Drugs ..  |   .6586193    1.02454     0.64   0.521    -1.357287    2.674526
              |
  private_fac |
     Private  |  -1.855468    .468722    -3.96   0.000    -2.777735   -.9332004
              |
     province |
West Sumatra  |    6.30447    1.30405     4.83   0.000     3.738594    8.870345
South Suma..  |    2.07796   1.176208     1.77   0.078    -.2363709    4.392292
     Lampung  |   3.927065   1.019317     3.85   0.000     1.921436    5.932694
     Jakarta  |   1.465737   1.279229     1.15   0.253    -1.051301    3.982775
   West Java  |   6.480572   1.039744     6.23   0.000     4.434749    8.526395
Central Java  |   7.107441   1.461684     4.86   0.000     4.231401    9.983481
  Yogyakarta  |   10.72696   1.257057     8.53   0.000     8.253545    13.20037
   East Java  |   2.460044    1.14967     2.14   0.033     .1979283     4.72216
        Bali  |   1.733029   1.510569     1.15   0.252    -1.239199    4.705256
West Nusa ..  |   3.923833   1.453987     2.70   0.007     1.062936    6.784729
South Kali..  |   1.171859   1.792975     0.65   0.514    -2.356037    4.699755
South Sula..  |   7.163761   1.080388     6.63   0.000     5.037967    9.289554
              |
        _cons |   32.48372   1.153417    28.16   0.000     30.21424    34.75321
-------------------------------------------------------------------------------

.                 estimates store adjusted_final

.         
.         *Check #1: community level FE only
.                 reg vig_per i.year i.cadre i.urban experience i.training_ncd /
> //
>                 i.diabetes_training i.drugs_training i.private_fac i.commid, c
> luster(commid)

Linear regression                               Number of obs     =      2,704
                                                F(9, 311)         =          .
                                                Prob > F          =          .
                                                R-squared         =     0.3683
                                                Root MSE          =         12

                                (Std. err. adjusted for 312 clusters in commid)
-------------------------------------------------------------------------------
              |               Robust
      vig_per | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
--------------+----------------------------------------------------------------
         year |
        2014  |  -6.713148   .7068417    -9.50   0.000    -8.103944   -5.322351
              |
        cadre |
       nurse  |  -6.057506   .7291353    -8.31   0.000    -7.492168   -4.622844
     midwife  |  -5.708829   1.019781    -5.60   0.000    -7.715371   -3.702286
   paramedic  |   -5.37678   1.345539    -4.00   0.000     -8.02429    -2.72927
              |
        urban |
       Urban  |   .3362243   .7947976     0.42   0.673    -1.227636    1.900085
   experience |  -.0982825    .032535    -3.02   0.003     -.162299    -.034266
              |
 training_ncd |
Yes Training  |   2.273808   .6463265     3.52   0.000     1.002083    3.545534
              |
diabetes_tr~g |
Yes Diabet..  |    2.04424   1.180011     1.73   0.084    -.2775757    4.366055
              |
drugs_train~g |
Yes Drugs ..  |   .2757278   1.154392     0.24   0.811    -1.995678    2.547133
              |
  private_fac |
     Private  |  -1.781767   .5048265    -3.53   0.000    -2.775074   -.7884595
              |
       commid |
        1203  |   6.581984   .6262516    10.51   0.000     5.349759     7.81421
        1204  |   3.634286   .3279964    11.08   0.000     2.988913    4.279658
        1205  |   11.71942   .7105396    16.49   0.000     10.32134    13.11749
        1206  |   .0538539   .5060541     0.11   0.915    -.9418688    1.049577
        1207  |   3.014584   .5121707     5.89   0.000     2.006826    4.022342
        1208  |   .4832294   .5189456     0.93   0.352    -.5378591    1.504318
        1209  |   4.674764   .5814083     8.04   0.000     3.530773    5.818756
        1210  |   4.683913   .3493041    13.41   0.000     3.996615    5.371212
        1211  |  -2.066438   .6437693    -3.21   0.001    -3.333133   -.7997443
        1212  |   6.031206   .5001381    12.06   0.000     5.047124    7.015288
        1213  |     5.0743   .7328052     6.92   0.000     3.632417    6.516183
        1214  |   12.21504   .9843664    12.41   0.000     10.27817     14.1519
        1215  |  -1.266009   .7008628    -1.81   0.072    -2.645041    .1130233
        1216  |    3.31551   .6931515     4.78   0.000      1.95165    4.679369
        1217  |   3.295652   .8875614     3.71   0.000     1.549267    5.042036
        1218  |   3.771146   .7323056     5.15   0.000     2.330246    5.212046
        1219  |   5.602567   .7823662     7.16   0.000     4.063167    7.141968
        1220  |   6.648456   .8330769     7.98   0.000     5.009276    8.287636
        1221  |   3.914716   .8122288     4.82   0.000     2.316557    5.512874
        1222  |   4.254226   .6753485     6.30   0.000     2.925396    5.583056
        1223  |   2.126363   .6999213     3.04   0.003     .7491829    3.503543
        1224  |   12.11916   .7074436    17.13   0.000     10.72718    13.51114
        1225  |   1.917337   .6490118     2.95   0.003      .640328    3.194347
        1226  |   6.673587   .7468326     8.94   0.000     5.204103     8.14307
        1301  |   5.895876   .9527413     6.19   0.000     4.021243     7.77051
        1302  |   7.359082   .3505156    21.00   0.000       6.6694    8.048764
        1303  |    9.20854   .5045128    18.25   0.000     8.215849    10.20123
        1304  |   18.70194   .6064795    30.84   0.000     17.50861    19.89526
        1305  |    5.75756   .8715805     6.61   0.000      4.04262      7.4725
        1306  |   6.465019   .5786603    11.17   0.000     5.326435    7.603604
        1307  |   10.66467   .7037034    15.16   0.000     9.280047    12.04929
        1308  |   12.16604   .8123909    14.98   0.000     10.56757    13.76452
        1309  |   9.724256   .8800035    11.05   0.000     7.992743    11.45577
        1310  |   12.72385   .7084331    17.96   0.000     11.32993    14.11778
        1311  |   18.23159   .7504852    24.29   0.000     16.75492    19.70826
        1312  |   9.063086   .7709909    11.76   0.000     7.546068     10.5801
        1313  |   17.58581   .5448265    32.28   0.000     16.51379    18.65782
        1314  |   11.70279   .6026301    19.42   0.000     10.51705    12.88854
        1601  |   5.952309    .561706    10.60   0.000     4.847085    7.057534
        1602  |   4.203336   .2524808    16.65   0.000      3.70655    4.700123
        1603  |   14.60501   .4867478    30.01   0.000     13.64727    15.56274
        1604  |   1.291491   .7839839     1.65   0.100    -.2510925    2.834074
        1605  |   7.155449   .4544158    15.75   0.000     6.261331    8.049568
        1606  |   4.882741   .5674531     8.60   0.000     3.766208    5.999273
        1607  |   11.61027   .4056573    28.62   0.000     10.81209    12.40845
        1608  |    8.32166   .4048948    20.55   0.000     7.524981     9.11834
        1609  |   4.371929   .6504426     6.72   0.000     3.092105    5.651754
        1610  |   7.671108   .7301642    10.51   0.000     6.234422    9.107795
        1611  |   5.612306   .6460936     8.69   0.000     4.341038    6.883573
        1612  |   2.650527   .7916788     3.35   0.001     1.092803    4.208251
        1613  |   5.012288    .896551     5.59   0.000     3.248215    6.776361
        1614  |   13.41722   .7530718    17.82   0.000     11.93546    14.89898
        1615  |   7.316714   .8927524     8.20   0.000     5.560116    9.073313
        1801  |   9.198712   .3699368    24.87   0.000     8.470817    9.926607
        1802  |   6.427849   .3777507    17.02   0.000     5.684579    7.171119
        1803  |   9.465863   .4165334    22.73   0.000     8.646283    10.28544
        1804  |   5.648813   .5756551     9.81   0.000     4.516141    6.781484
        1805  |    7.66008   .3791925    20.20   0.000     6.913973    8.406187
        1806  |   9.940435   .4304467    23.09   0.000     9.093479    10.78739
        1807  |   10.92853   .4089266    26.72   0.000     10.12392    11.73315
        1808  |   5.887519    .388102    15.17   0.000     5.123881    6.651157
        1809  |    11.9579   .7957132    15.03   0.000     10.39223    13.52356
        1810  |   9.920764   .7669206    12.94   0.000     8.411755    11.42977
        1811  |   5.063639   .8354138     6.06   0.000     3.419862    6.707417
        3101  |   7.703049   .7672218    10.04   0.000     6.193447    9.212651
        3102  |   5.945961   .7857112     7.57   0.000     4.399979    7.491943
        3103  |   19.80078     .77856    25.43   0.000     18.26886    21.33269
        3104  |   13.73272   .8022236    17.12   0.000     12.15425    15.31119
        3105  |    5.76326   .7823667     7.37   0.000     4.223858    7.302661
        3106  |   10.67814   .8306395    12.86   0.000     9.043761    12.31253
        3107  |   3.577074   .7822326     4.57   0.000     2.037936    5.116211
        3108  |   1.145307   .8373867     1.37   0.172    -.5023525    2.792967
        3109  |   13.25262   .7705617    17.20   0.000     11.73644    14.76879
        3110  |   3.451256   .7822892     4.41   0.000     1.912007    4.990505
        3111  |   12.92418   .8691606    14.87   0.000       11.214    14.63436
        3112  |   14.78629   .7954434    18.59   0.000     13.22116    16.35142
        3113  |   11.04794   .7506246    14.72   0.000     9.570991    12.52488
        3114  |   7.693234   .7759542     9.91   0.000     6.166451    9.220018
        3115  |   8.489484   .8515888     9.97   0.000      6.81388    10.16509
        3116  |   6.212752   .7567107     8.21   0.000     4.723832    7.701672
        3117  |   12.02821   .8030431    14.98   0.000     10.44812    13.60829
        3118  |   8.892009   .8226894    10.81   0.000     7.273268    10.51075
        3119  |   10.26453   .9186925    11.17   0.000     8.456893    12.07217
        3120  |   9.599192   .7609584    12.61   0.000     8.101915    11.09647
        3121  |  -2.010045   .7419821    -2.71   0.007    -3.469985   -.5501053
        3122  |  -1.838395   .7884419    -2.33   0.020     -3.38975   -.2870402
        3123  |    2.53071   .7341511     3.45   0.001     1.086179    3.975241
        3124  |   -1.88449   .8131087    -2.32   0.021     -3.48438   -.2845997
        3125  |   1.264711   .7784839     1.62   0.105    -.2670499    2.796473
        3126  |   7.086424   .8122171     8.72   0.000     5.488288    8.684559
        3127  |   12.58407    .842592    14.93   0.000     10.92617    14.24198
        3128  |   11.82292   .7680029    15.39   0.000     10.31178    13.33405
        3129  |   14.77881   .8202094    18.02   0.000     13.16495    16.39267
        3130  |   -2.09733   .7759886    -2.70   0.007    -3.624182   -.5704786
        3131  |   3.330159   .7803524     4.27   0.000     1.794721    4.865596
        3132  |  -3.261824   .7883099    -4.14   0.000    -4.812919   -1.710729
        3133  |  -.0818663   .7757856    -0.11   0.916    -1.608318    1.444586
        3134  |   2.354275   .8196111     2.87   0.004     .7415913     3.96696
        3135  |  -1.630065   .8161389    -2.00   0.047    -3.235917   -.0242126
        3136  |   1.557776   .7757593     2.01   0.046     .0313758    3.084176
        3201  |   11.04689    .618898    17.85   0.000     9.829138    12.26465
        3202  |   11.48382   .7852661    14.62   0.000     9.938714    13.02893
        3203  |    14.4724   .4113598    35.18   0.000       13.663     15.2818
        3204  |   12.51769   .6305021    19.85   0.000      11.2771    13.75828
        3205  |   22.25636   .6877185    32.36   0.000     20.90319    23.60953
        3206  |   2.961989   .8346636     3.55   0.000     1.319687     4.60429
        3207  |   15.36221   .8029225    19.13   0.000     13.78237    16.94206
        3208  |   13.00564   .7586415    17.14   0.000     11.51292    14.49836
        3209  |   10.44985   .5573534    18.75   0.000     9.353192    11.54651
        3210  |   14.58934   .6310946    23.12   0.000     13.34759     15.8311
        3211  |   11.77173   .7375054    15.96   0.000      10.3206    13.22286
        3212  |   10.18258   .4709671    21.62   0.000     9.255897    11.10927
        3213  |   21.57991   .4980588    43.33   0.000     20.59992     22.5599
        3214  |   15.73819   .7738153    20.34   0.000     14.21561    17.26076
        3215  |   22.72968    .837899    27.13   0.000     21.08102    24.37835
        3216  |   8.685556    .674428    12.88   0.000     7.358538    10.01258
        3217  |   18.61821   .7591379    24.53   0.000     17.12452    20.11191
        3218  |    15.6375   .4833688    32.35   0.000     14.68641    16.58859
        3219  |   10.02586   .6898508    14.53   0.000     8.668493    11.38322
        3220  |   7.813634   .6529925    11.97   0.000     6.528792    9.098476
        3221  |   12.60379   .4675254    26.96   0.000     11.68388    13.52371
        3222  |   10.04164   .5670125    17.71   0.000     8.925972     11.1573
        3223  |   17.05829   .7215135    23.64   0.000     15.63862    18.47795
        3224  |  -4.293146   .7524188    -5.71   0.000    -5.773622   -2.812671
        3225  |    10.9814   .7106557    15.45   0.000     9.583101     12.3797
        3226  |   12.01951   .6146407    19.56   0.000     10.81013    13.22889
        3227  |   13.46074   .7587242    17.74   0.000     11.96786    14.95362
        3228  |   4.947193   .6619586     7.47   0.000     3.644709    6.249676
        3229  |   5.327968   .4251909    12.53   0.000     4.491353    6.164583
        3230  |   2.515621   .5002244     5.03   0.000     1.531368    3.499873
        3231  |   9.274262   .8003117    11.59   0.000     7.699552    10.84897
        3232  |   7.323524   .5402296    13.56   0.000     6.260557    8.386491
        3233  |   12.17587   .7803886    15.60   0.000     10.64036    13.71138
        3234  |   10.08971   .7780466    12.97   0.000     8.558805    11.62061
        3235  |   9.437523    .643265    14.67   0.000     8.171821    10.70322
        3236  |   11.34998   .5467991    20.76   0.000     10.27409    12.42587
        3237  |   4.721216   .6948075     6.79   0.000     3.354098    6.088334
        3238  |   3.937714   .7639843     5.15   0.000     2.434483    5.440946
        3239  |   9.737131   .7299275    13.34   0.000      8.30091    11.17335
        3240  |   7.022634   .8579737     8.19   0.000     5.334467    8.710801
        3241  |   10.30394   .7802965    13.21   0.000     8.768608    11.83926
        3242  |   7.019866   .7876116     8.91   0.000     5.470145    8.569588
        3243  |   8.248434    .782116    10.55   0.000     6.709526    9.787342
        3244  |   10.71894   .7428001    14.43   0.000     9.257395    12.18049
        3245  |   11.34528   .8279124    13.70   0.000     9.716266     12.9743
        3246  |   9.896981   .8617026    11.49   0.000     8.201477    11.59249
        3247  |    20.4662   .9024038    22.68   0.000     18.69062    22.24179
        3248  |    14.4366   .8094184    17.84   0.000     12.84398    16.02923
        3249  |   10.98039   .9434425    11.64   0.000     9.124048    12.83672
        3250  |    19.2394   .7943997    24.22   0.000     17.67632    20.80248
        3251  |   15.09537   .7933424    19.03   0.000     13.53438    16.65637
        3301  |    10.6656   .5773246    18.47   0.000     9.529643    11.80156
        3302  |   26.43944   .5429143    48.70   0.000     25.37119    27.50769
        3303  |   18.50309   .5799966    31.90   0.000     17.36188    19.64431
        3304  |   19.36976   .6843647    28.30   0.000     18.02319    20.71633
        3305  |   13.40981   .7247437    18.50   0.000     11.98379    14.83583
        3306  |   4.120173   .4737974     8.70   0.000     3.187919    5.052426
        3307  |   12.00228   .3232514    37.13   0.000     11.36625    12.63832
        3308  |   12.95116   .5017455    25.81   0.000     11.96391     13.9384
        3309  |   9.158467   .4670551    19.61   0.000      8.23948    10.07745
        3310  |   27.12865   .5846884    46.40   0.000     25.97821     28.2791
        3311  |   20.37659   .3780011    53.91   0.000     19.63283    21.12035
        3312  |   20.15527   .6581386    30.62   0.000      18.8603    21.45024
        3313  |   15.84068   .7203446    21.99   0.000     14.42331    17.25804
        3314  |   5.642005   .3672809    15.36   0.000     4.919335    6.364675
        3315  |   2.642133   .6477325     4.08   0.000     1.367641    3.916625
        3316  |   5.759923    .572324    10.06   0.000     4.633806     6.88604
        3317  |     10.523   .4608477    22.83   0.000     9.616222    11.42977
        3318  |   4.287549   .6869601     6.24   0.000     2.935871    5.639226
        3319  |   6.519356   .4020971    16.21   0.000     5.728181    7.310531
        3320  |   2.878399   .3897915     7.38   0.000     2.111437    3.645361
        3321  |   8.665733   .2869921    30.20   0.000     8.101041    9.230425
        3322  |   4.699321   .4102019    11.46   0.000     3.892199    5.506443
        3323  |   25.21917    .618971    40.74   0.000     24.00127    26.43707
        3324  |   12.60966   .7457285    16.91   0.000     11.14235    14.07697
        3325  |   12.37488   .6990402    17.70   0.000     10.99944    13.75033
        3326  |   10.38629   .8957077    11.60   0.000     8.623877     12.1487
        3327  |   4.381852   .5025022     8.72   0.000     3.393118    5.370586
        3328  |   11.70718   .6828517    17.14   0.000     10.36358    13.05077
        3329  |   15.32329   .6866226    22.32   0.000     13.97228     16.6743
        3330  |   19.04085   .7950342    23.95   0.000     17.47653    20.60518
        3331  |    24.2513   .7617296    31.84   0.000     22.75251     25.7501
        3332  |   2.678801   .7135211     3.75   0.000     1.274862     4.08274
        3333  |   2.960084   .8194265     3.61   0.000     1.347763    4.572405
        3334  |   4.930224   .7532765     6.55   0.000     3.448061    6.412386
        3335  |    9.55146   .7256027    13.16   0.000     8.123749    10.97917
        3336  |    14.7202   .7912655    18.60   0.000     13.16329    16.27711
        3401  |     14.132   .6317163    22.37   0.000     12.88902    15.37497
        3402  |   23.14155   .7755425    29.84   0.000     21.61558    24.66753
        3403  |   12.01699   .7151838    16.80   0.000     10.60978     13.4242
        3404  |   11.94173   .6325923    18.88   0.000     10.69703    13.18643
        3405  |   15.09015    .573339    26.32   0.000     13.96203    16.21826
        3406  |   14.80519    .819362    18.07   0.000       13.193    16.41739
        3407  |   22.55861   .8036737    28.07   0.000     20.97728    24.13993
        3408  |   18.43106   .7988109    23.07   0.000      16.8593    20.00282
        3409  |   16.80868   .7734813    21.73   0.000     15.28676     18.3306
        3410  |   11.63529   .3822074    30.44   0.000     10.88325    12.38733
        3411  |   13.42596   .6351587    21.14   0.000     12.17621    14.67571
        3412  |   26.22677   .5017853    52.27   0.000     25.23945    27.21409
        3413  |   10.82064   .7747773    13.97   0.000      9.29617    12.34511
        3414  |   17.27515   .7170821    24.09   0.000     15.86421     18.6861
        3415  |   20.11096   .7823879    25.70   0.000     18.57151     21.6504
        3416  |   9.605858   .7591157    12.65   0.000     8.112205    11.09951
        3417  |   13.55622   .8293713    16.35   0.000     11.92433    15.18811
        3418  |   19.53593   .8415974    23.21   0.000     17.87999    21.19188
        3419  |   13.58337   .7843532    17.32   0.000     12.04006    15.12668
        3501  |   13.37836   .8504858    15.73   0.000     11.70493    15.05179
        3502  |   2.425015   .5499452     4.41   0.000     1.342931    3.507099
        3503  |   9.944055   .6814899    14.59   0.000     8.603141    11.28497
        3504  |    5.27892   .6257655     8.44   0.000     4.047651    6.510189
        3505  |    6.59077   .5385759    12.24   0.000     5.531057    7.650484
        3506  |   8.058817   .6280403    12.83   0.000     6.823071    9.294562
        3507  |   15.25293   .6615076    23.06   0.000     13.95133    16.55453
        3508  |   7.064022   .4952908    14.26   0.000     6.089477    8.038567
        3509  |   4.971442   .4705468    10.57   0.000     4.045585      5.8973
        3510  |  -.3867086   .7623984    -0.51   0.612     -1.88682    1.113403
        3511  |  -.9514639   .5450894    -1.75   0.082    -2.023993    .1210655
        3512  |   5.142478   .4970113    10.35   0.000     4.164548    6.120408
        3513  |   .7819269   .8075425     0.97   0.334    -.8070108    2.370865
        3514  |   3.164483   .5907675     5.36   0.000     2.002076     4.32689
        3515  |   6.940964   .5365342    12.94   0.000     5.885268     7.99666
        3516  |   10.18835   .5723569    17.80   0.000      9.06217    11.31453
        3517  |   5.242844   .5349276     9.80   0.000      4.19031    6.295379
        3518  |   2.177413   .7656916     2.84   0.005     .6708223    3.684004
        3519  |  -1.121139   .8016999    -1.40   0.163    -2.698581    .4563022
        3520  |  -.0618202   .5919662    -0.10   0.917    -1.226585    1.102945
        3521  |  -1.155074   .8296266    -1.39   0.165    -2.787465    .4773165
        3522  |   17.04265   .3597547    47.37   0.000     16.33479    17.75051
        3523  |   8.360884     .70878    11.80   0.000     6.966274    9.755495
        3524  |   8.880581   .5888038    15.08   0.000     7.722038    10.03912
        3525  |   9.897628   .4428016    22.35   0.000     9.026362    10.76889
        3526  |   10.52917   .9395539    11.21   0.000     8.680479    12.37785
        3527  |   11.51978   .5400653    21.33   0.000     10.45713    12.58242
        3528  |   11.54219    .581947    19.83   0.000     10.39714    12.68724
        3529  |   17.22768   .7090511    24.30   0.000     15.83253    18.62282
        3530  |   19.80862   .7580507    26.13   0.000     18.31706    21.30017
        3531  |   18.20513    .664743    27.39   0.000     16.89717     19.5131
        3532  |   25.61353   .6736251    38.02   0.000      24.2881    26.93897
        3533  |   2.546714   .3161895     8.05   0.000     1.924573    3.168856
        3534  |   1.393888   .3077761     4.53   0.000     .7883013    1.999475
        3535  |   .6178258   .5298034     1.17   0.244    -.4246267    1.660278
        3536  |   9.812017   1.057733     9.28   0.000       7.7308    11.89323
        3537  |   12.91346   .8018635    16.10   0.000      11.3357    14.49123
        3538  |   12.20682   .7716444    15.82   0.000     10.68852    13.72513
        3539  |   7.754472   .6019246    12.88   0.000     6.570112    8.938832
        3540  |   4.541303   .8795004     5.16   0.000      2.81078    6.271827
        3541  |    4.50929   .8302654     5.43   0.000     2.875642    6.142937
        3542  |   7.143799    .770851     9.27   0.000     5.627056    8.660542
        3543  |   7.143268   .7023192    10.17   0.000      5.76137    8.525166
        3544  |    2.10849   .7139843     2.95   0.003     .7036391     3.51334
        3545  |   3.307181   .7616815     4.34   0.000      1.80848    4.805882
        5101  |    13.5399   .5632161    24.04   0.000     12.43171     14.6481
        5102  |  -.9175947   .5627156    -1.63   0.104    -2.024806    .1896164
        5103  |   7.486895     .71344    10.49   0.000     6.083115    8.890675
        5104  |   8.257031   .5393872    15.31   0.000     7.195721    9.318341
        5105  |   4.238446   .3356475    12.63   0.000     3.578019    4.898873
        5106  |   9.674987   .3649974    26.51   0.000      8.95681    10.39316
        5107  |    12.8157   .6777707    18.91   0.000      11.4821     14.1493
        5108  |  -1.402994   .7246967    -1.94   0.054    -2.828923    .0229343
        5109  |  -.7013438    .833527    -0.84   0.401    -2.341409    .9387215
        5110  |   6.304999   .5309884    11.87   0.000     5.260215    7.349783
        5111  |   6.414725   .7468159     8.59   0.000     4.945274    7.884176
        5112  |   8.635539   .7589103    11.38   0.000     7.142291    10.12879
        5113  |   3.359183    .910663     3.69   0.000     1.567344    5.151023
        5114  |   3.687119   .9404212     3.92   0.000     1.836726    5.537511
        5115  |   5.036298   .8870072     5.68   0.000     3.291004    6.781592
        5201  |   11.88351   .6432025    18.48   0.000     10.61793    13.14908
        5202  |   19.42878    .914282    21.25   0.000     17.62982    21.22774
        5203  |   12.82887   .7790491    16.47   0.000     11.29599    14.36174
        5204  |   6.716524    .748519     8.97   0.000     5.243722    8.189326
        5205  |   10.02081   .6272549    15.98   0.000     8.786611    11.25501
        5206  |   8.605776   .4888911    17.60   0.000     7.643824    9.567729
        5207  |   7.309695   .5419395    13.49   0.000     6.243363    8.376026
        5208  |   1.383925    .780061     1.77   0.077    -.1509398    2.918789
        5209  |   8.909562   .6817601    13.07   0.000     7.568116    10.25101
        5210  |    15.9305   .6294493    25.31   0.000     14.69198    17.16902
        5211  |   8.861675   .2755542    32.16   0.000     8.319488    9.403861
        5212  |   6.395959   .6301819    10.15   0.000        5.156    7.635919
        5213  |  -1.359854   .4678465    -2.91   0.004    -2.280399   -.4393095
        5214  |   6.396137   .5670671    11.28   0.000     5.280364     7.51191
        5215  |   .6654887   .8446077     0.79   0.431    -.9963792    2.327357
        5216  |     13.229   .4930502    26.83   0.000     12.25886    14.19913
        6301  |   3.590315    .414294     8.67   0.000     2.775141    4.405488
        6302  |  -1.269796   .7750026    -1.64   0.102    -2.794707    .2551157
        6303  |   10.59844   .4550758    23.29   0.000     9.703022    11.49386
        6304  |   8.310911   .3997685    20.79   0.000     7.524318    9.097504
        6305  |   5.421204   .7256449     7.47   0.000     3.993409    6.848998
        6306  |   4.424636   .5564178     7.95   0.000     3.329816    5.519455
        6307  |   1.466808   .8729607     1.68   0.094    -.2508476    3.184464
        6308  |   13.38924   .7131329    18.78   0.000     11.98607    14.79242
        6309  |   6.230687   .4538177    13.73   0.000     5.337746    7.123629
        6310  |   .9760296   .5356214     1.82   0.069    -.0778705     2.02993
        6311  |    12.9618   .5605985    23.12   0.000     11.85876    14.06485
        6312  |  -4.023784   .7720574    -5.21   0.000    -5.542901   -2.504668
        6313  |   8.311987    .736077    11.29   0.000     6.863666    9.760308
        7301  |   10.79523   .6527579    16.54   0.000     9.510846    12.07961
        7302  |   11.72365   .6228551    18.82   0.000     10.49811    12.94919
        7303  |    6.34203   .5176885    12.25   0.000     5.323416    7.360645
        7304  |   16.43337   .7762907    21.17   0.000     14.90592    17.96082
        7305  |   13.51222   .5838778    23.14   0.000     12.36337    14.66107
        7306  |   10.93405   .4228926    25.86   0.000     10.10196    11.76614
        7307  |   17.68141   .5084991    34.77   0.000     16.68088    18.68195
        7308  |   15.69144   .5437126    28.86   0.000     14.62162    16.76126
        7309  |   9.112009   .4585528    19.87   0.000     8.209751    10.01427
        7310  |   10.73195    .441316    24.32   0.000     9.863612     11.6003
        7311  |    15.3487   .4155566    36.94   0.000     14.53104    16.16636
        7312  |   10.06537    .567172    17.75   0.000     8.949388    11.18135
        7313  |   12.23911   .5978047    20.47   0.000     11.06286    13.41536
        7314  |     9.1125   .6628389    13.75   0.000     7.808284    10.41672
        7315  |   9.987643   .7489557    13.34   0.000     8.513982     11.4613
        7316  |   11.48468    .740828    15.50   0.000     10.02701    12.94234
              |
        _cons |   28.65678   .7607773    37.67   0.000     27.15986     30.1537
-------------------------------------------------------------------------------

.                 estimates store robust_one

.         
.         *Check #2: community level RE and province FE
.         
.         xtset commid

Panel variable: commid (unbalanced)

.         
.         xtreg vig_per i.year i.cadre i.urban experience i.training_ncd ///
>         i.diabetes_training i.drugs_training i.private_fac i.province, re clus
> ter(commid)

Random-effects GLS regression                   Number of obs     =      2,704
Group variable: commid                          Number of groups  =        312

R-squared:                                      Obs per group:
     Within  = 0.1677                                         min =          2
     Between = 0.4534                                         avg =        8.7
     Overall = 0.2359                                         max =         26

                                                Wald chi2(22)     =     888.27
corr(u_i, X) = 0 (assumed)                      Prob > chi2       =     0.0000

                                (Std. err. adjusted for 312 clusters in commid)
-------------------------------------------------------------------------------
              |               Robust
      vig_per | Coefficient  std. err.      z    P>|z|     [95% conf. interval]
--------------+----------------------------------------------------------------
         year |
        2014  |  -6.869586   .6451798   -10.65   0.000    -8.134115   -5.605057
              |
        cadre |
       nurse  |  -5.766057   .6470538    -8.91   0.000    -7.034259   -4.497855
     midwife  |  -5.604174   .9344474    -6.00   0.000    -7.435657   -3.772691
   paramedic  |  -5.146857   1.216233    -4.23   0.000     -7.53063   -2.763084
              |
        urban |
       Urban  |   .7546374   .6111496     1.23   0.217    -.4431938    1.952469
   experience |  -.0815699   .0292435    -2.79   0.005     -.138886   -.0242538
              |
 training_ncd |
Yes Training  |   2.184703   .5978392     3.65   0.000     1.012959    3.356446
              |
diabetes_tr~g |
Yes Diabet..  |   2.324416   1.051413     2.21   0.027     .2636851    4.385147
              |
drugs_train~g |
Yes Drugs ..  |   .5892696   1.019299     0.58   0.563     -1.40852    2.587059
              |
  private_fac |
     Private  |  -1.834934   .4641724    -3.95   0.000    -2.744696   -.9251733
              |
     province |
West Sumatra  |   6.473522   1.297146     4.99   0.000     3.931162    9.015881
South Suma..  |   2.280284    1.17534     1.94   0.052    -.0233408    4.583909
     Lampung  |   4.026645   1.006867     4.00   0.000     2.053222    6.000067
     Jakarta  |   1.625868   1.262319     1.29   0.198    -.8482329    4.099968
   West Java  |   6.702169   1.027611     6.52   0.000     4.688089    8.716249
Central Java  |   7.290903   1.429949     5.10   0.000     4.488254    10.09355
  Yogyakarta  |   11.00437   1.232095     8.93   0.000     8.589506    13.41923
   East Java  |   2.728409   1.147846     2.38   0.017      .478671    4.978146
        Bali  |   1.631083    1.44825     1.13   0.260    -1.207435      4.4696
West Nusa ..  |   4.084822   1.471874     2.78   0.006     1.200001    6.969643
South Kali..  |   1.192365   1.752119     0.68   0.496    -2.241724    4.626455
South Sula..  |   7.366034   1.060076     6.95   0.000     5.288324    9.443745
              |
        _cons |   32.55851   1.130799    28.79   0.000     30.34219    34.77484
--------------+----------------------------------------------------------------
      sigma_u |  2.9945849
      sigma_e |  11.999543
          rho |  .05862801   (fraction of variance due to u_i)
-------------------------------------------------------------------------------

.         estimates store robust_two

. 
. 
end of do-file

. log close
      name:  <unnamed>
       log:  C:\Users\User\Desktop\HW3\replication_log.txt
  log type:  text
 closed on:  20 Nov 2025, 14:48:28
--------------------------------------------------------------------------------
